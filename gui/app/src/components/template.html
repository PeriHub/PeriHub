<v-container fluid style="height: 100%">
  <splitpanes style="height: 100%">
    <pane id="model-configuration" min-size="15" style="height: 100%">
      <v-subheader>
        <v-tooltip bottom
          ><template v-slot:activator="{ on, attrs }">
            <v-btn class="my-btn" v-bind="attrs" v-on="on" @click="readData">
              <i class="fas fa-upload"></i>
            </v-btn>
          </template>
          <span>Load Model</span>
        </v-tooltip>
        <input
          type="file"
          style="display: none"
          ref="fileInput"
          accept="application/json,application/xml,.yaml,.peridigm,.bdf,.cdb,.inp,.gcode"
          @change="onFilePicked"
        />
        <input
          type="file"
          style="display: none"
          ref="multifileInput"
          multiple
          accept="text/plain,.g"
          @change="onMultiFilePicked"
        />
        <input
          type="file"
          style="display: none"
          ref="multiSoInput"
          multiple
          accept=".so"
          @change="onMultiFilePicked"
        />

        <v-dialog v-model="dialogGcode" persistent max-width="800">
          <v-card>
            <v-card-title class="text-h5"> Gcode Translator </v-card-title>
            <v-card-text>Which variable do you want to display ?</v-card-text>
            <v-card-actions>
              <v-spacer></v-spacer>
              <v-text-field
                v-model="gcodeDiscretization"
                :rules="[rules.float]"
                label="Discretization"
                clearable
                outlined
              ></v-text-field>
              <!-- <v-select
                :items="getImageVariable"
                v-model="getImageVariableSelected"
                label="Variable"
                outlined
              ></v-select>
              <v-select
                :items="getImageAxis"
                :disabled="getImageVariableSelected=='Damage'"
                v-model="getImageAxisSelected"
                label="Axis"
                outlined
              ></v-select> -->
              <v-btn color="green darken-1" text @click="loadGcodeModel">
                Ok
              </v-btn>
              <!-- <v-btn
                    color="green darken-1"
                    text
                    @click="getImage('Damage')"
                  >
                    Damage
                  </v-btn>
                  <v-btn
                    color="green darken-1"
                    text
                    @click="getImage('Partial_StressX')"
                  >
                    Partial_StressX
                  </v-btn>
                  <v-btn
                    color="green darken-1"
                    text
                    @click="getImage('Force')"
                  >
                    Force
                  </v-btn> -->
              <v-btn color="red darken-1" text @click="dialogGcode = false">
                Cancel
              </v-btn>
            </v-card-actions>
          </v-card>
        </v-dialog>

        <v-tooltip bottom
          ><template v-slot:activator="{ on, attrs }">
            <v-btn class="my-btn" v-bind="attrs" v-on="on" @click="saveData">
              <i class="fas fa-save"></i>
            </v-btn>
          </template>
          <span>Save as JSON</span>
        </v-tooltip>

        <v-tooltip bottom v-if="!model.ownModel"
          ><template v-slot:activator="{ on, attrs }">
            <v-btn class="my-btn" v-bind="attrs" v-on="on" @click="resetData">
              <i class="fas fa-undo"></i>
            </v-btn>
          </template>
          <span>Reset Data</span>
        </v-tooltip>

        <v-tooltip
          bottom
          v-if="model.modelNameSelected=='RVE' & !model.ownModel"
          ><template v-slot:activator="{ on, attrs }">
            <v-btn
              class="my-btn"
              v-bind="attrs"
              v-on="on"
              @click="generateMesh"
            >
              <i class="fas fa-cogs"></i>
            </v-btn>
          </template>
          <span>Generate Mesh</span>
        </v-tooltip>

        <v-tooltip bottom
          ><template v-slot:activator="{ on, attrs }">
            <v-btn
              class="my-btn"
              v-bind="attrs"
              v-on="on"
              @click="generateModel"
            >
              <i class="fas fa-cogs"></i>
            </v-btn>
          </template>
          <span>Generate Model</span>
        </v-tooltip>

        <v-tooltip bottom v-if="model.ownModel"
          ><template v-slot:activator="{ on, attrs }">
            <v-btn class="my-btn" v-bind="attrs" v-on="on" @click="uploadMesh">
              <i class="fas fa-upload"></i>
            </v-btn>
          </template>
          <span>Upload Mesh and Nodesets</span>
        </v-tooltip>

        <v-tooltip bottom
          ><template v-slot:activator="{ on, attrs }">
            <v-btn
              class="my-btn"
              v-bind="attrs"
              v-on="on"
              @click="saveModel"
              :disabled="!status.created"
            >
              <i class="fas fa-download"></i>
            </v-btn>
          </template>
          <span>Download Modelfiles</span>
        </v-tooltip>

        <v-tooltip bottom v-if="model.ownModel"
          ><template v-slot:activator="{ on, attrs }">
            <v-btn
              class="my-btn"
              v-bind="attrs"
              v-on="on"
              @click="switchModels"
            >
              <i class="fas fa-backward"></i>
            </v-btn>
          </template>
          <span>Use predefined Models</span>
        </v-tooltip>

        <v-spacer></v-spacer>

        <v-tooltip bottom
          ><template v-slot:activator="{ on, attrs }">
            <v-btn
              class="my-btn"
              v-bind="attrs"
              v-on="on"
              @click="openHidePanels"
            >
              <i class="fas fa-sort"></i>
            </v-btn>
          </template>
          <span>Collapse/Expand all panels</span>
        </v-tooltip>

        <v-tooltip bottom
          ><template v-slot:activator="{ on, attrs }">
            <v-btn
              class="my-btn"
              v-bind="attrs"
              v-on="on"
              @click="showTutorial"
            >
              <i class="fas fa-info"></i>
            </v-btn>
          </template>
          <span>Show Tutorial</span>
        </v-tooltip>
      </v-subheader>
      <!-- <v-virtual-scroll
                :items="Array.from({model.length: 9}).map((_, index) => index)"
                :item-height="50"
                height=100vh
              > -->
      <!-- <div class="remaining-height"> -->
      <v-list class="remaining-height">
        <!-- <v-list-item-group> -->
        <!-- <v-list-item> -->
        <v-card>
          <v-expansion-panels height="45vh" v-model="panel" multiple>
            <v-expansion-panel>
              <v-expansion-panel-header>
                <h2>Model</h2>
              </v-expansion-panel-header>
              <v-expansion-panel-content>
                <v-select
                  class="textfield-col"
                  :items="modelName"
                  v-model="model.modelNameSelected"
                  v-show="!model.ownModel"
                  @change="modelNameChangedEvent"
                  label="Model Name"
                  outlined
                  dense
                ></v-select>
                <v-text-field
                  class="textfield-col"
                  v-model="model.modelNameSelected"
                  v-show="model.ownModel"
                  :rules="[rules.required]"
                  label="Model Name"
                  outlined
                  dense
                ></v-text-field>
                <v-text-field
                  class="textfield-col"
                  v-model="model.length"
                  v-show="!model.ownModel & model.modelNameSelected!='RVE'"
                  :rules="[rules.required, rules.float]"
                  label="Length"
                  outlined
                  dense
                ></v-text-field>
                <v-text-field
                  class="textfield-col"
                  v-model="model.cracklength"
                  v-show="['GICmodel','GIICmodel','CompactTension'].includes(model.modelNameSelected)"
                  :rules="[rules.required, rules.float]"
                  label="Cracklength"
                  outlined
                  dense
                ></v-text-field>
                <v-text-field
                  class="textfield-col"
                  v-model="model.width"
                  v-show="!model.ownModel & model.modelNameSelected!='RVE' & !model.twoDimensional"
                  :rules="[rules.required, rules.float]"
                  label="Width"
                  outlined
                  dense
                ></v-text-field>
                <v-text-field
                  class="textfield-col"
                  v-model="model.height"
                  v-show="!model.ownModel & !['RVE','CompactTension'].includes(model.modelNameSelected)"
                  :rules="[rules.required, rules.float]"
                  label="Height"
                  outlined
                  dense
                ></v-text-field>
                <v-text-field
                  v-show="model.modelNameSelected=='Dogbone' & !model.ownModel"
                  class="textfield-col"
                  v-model="model.height2"
                  :rules="[rules.required, rules.float]"
                  label="Inner Height"
                  outlined
                  dense
                ></v-text-field>
                <v-text-field
                  v-show="model.modelNameSelected=='PlateWithHole' & !model.ownModel"
                  class="textfield-col"
                  v-model="model.radius"
                  :rules="[rules.required, rules.float]"
                  label="Radius"
                  outlined
                  dense
                ></v-text-field>
                <v-text-field
                  class="textfield-col"
                  v-model="model.discretization"
                  v-show="!model.ownModel & model.modelNameSelected!='RVE'"
                  :rules="[rules.required, rules.int]"
                  label="Discretization"
                  outlined
                  dense
                ></v-text-field>
                <v-text-field
                  class="textfield-col"
                  v-model="model.horizon"
                  v-show="model.ownModel"
                  :rules="[rules.required, rules.posFloat]"
                  label="Horizon"
                  outlined
                  dense
                ></v-text-field>
                <v-text-field
                  class="textfield-col"
                  v-model="model.amplitudeFactor"
                  v-show="!model.ownModel & model.modelNameSelected=='Smetana'"
                  :rules="[rules.required, rules.posFloat]"
                  label="Amplitude Factor"
                  outlined
                  dense
                ></v-text-field>
                <v-text-field
                  class="textfield-col"
                  v-model="model.wavelength"
                  v-show="!model.ownModel & model.modelNameSelected=='Smetana'"
                  :rules="[rules.required, rules.posFloat]"
                  label="Wavelength"
                  outlined
                  dense
                ></v-text-field>
                <v-switch
                  v-show="model.modelNameSelected=='Dogbone' & !model.ownModel"
                  class="checkbox-col"
                  v-model="model.structured"
                  label="Structured"
                  dense
                ></v-switch>
                <v-switch
                  v-show="!model.ownModel & model.modelNameSelected!='RVE'"
                  class="checkbox-col"
                  v-model="model.twoDimensional"
                  label="Two Dimensional"
                  dense
                ></v-switch>
                <v-switch
                  v-model="model.rotatedAngles"
                  v-show="!model.ownModel & model.modelNameSelected!='RVE' & model.modelNameSelected!='Dogbone'"
                  label="Rotated Angles"
                  dense
                ></v-switch>
                <v-row
                  v-show="model.rotatedAngles & !model.ownModel & model.modelNameSelected!='RVE' & model.modelNameSelected!='Dogbone'"
                >
                  <v-col class="textfield-col">
                    <v-text-field
                      v-model="model.angles[0]"
                      label="Angle 0"
                      outlined
                      dense
                    ></v-text-field>
                  </v-col>
                  <v-col class="textfield-col">
                    <v-text-field
                      v-model="model.angles[1]"
                      label="Angle 1"
                      outlined
                      dense
                    ></v-text-field>
                  </v-col>
                </v-row>
                <div v-show="model.modelNameSelected=='RVE' & !model.ownModel">
                  <v-text-field
                    class="textfield-col"
                    v-model="micofam.RVE.rve_fvc"
                    :rules="[rules.required, rules.float]"
                    label="rve_fvc"
                    outlined
                    dense
                  ></v-text-field>
                  <v-text-field
                    class="textfield-col"
                    v-model="micofam.RVE.rve_radius"
                    :rules="[rules.required, rules.float]"
                    label="rve_radius"
                    outlined
                    dense
                  ></v-text-field>
                  <v-text-field
                    class="textfield-col"
                    v-model="micofam.RVE.rve_lgth"
                    :rules="[rules.required, rules.float]"
                    label="rve_lgth"
                    outlined
                    dense
                  ></v-text-field>
                  <v-text-field
                    class="textfield-col"
                    v-model="micofam.RVE.rve_dpth"
                    :rules="[rules.required, rules.float]"
                    label="rve_dpth"
                    outlined
                    dense
                  ></v-text-field>
                  <v-text-field
                    class="textfield-col"
                    v-model="micofam.Mesh.mesh_fib"
                    :rules="[rules.required, rules.float]"
                    label="mesh_fib"
                    outlined
                    dense
                  ></v-text-field>
                  <v-text-field
                    class="textfield-col"
                    v-model="micofam.Mesh.mesh_lgth"
                    :rules="[rules.required, rules.float]"
                    label="mesh_lgth"
                    outlined
                    dense
                  ></v-text-field>
                  <v-text-field
                    class="textfield-col"
                    v-model="micofam.Mesh.mesh_dpth"
                    :rules="[rules.required, rules.float]"
                    label="mesh_dpth"
                    outlined
                    dense
                  ></v-text-field>
                  <v-text-field
                    class="textfield-col"
                    v-model="micofam.Mesh.mesh_aa"
                    :rules="[rules.required]"
                    label="mesh_aa"
                    outlined
                    dense
                  ></v-text-field>
                </div>
              </v-expansion-panel-content>
            </v-expansion-panel>
            <v-divider></v-divider>
            <v-expansion-panel>
              <v-expansion-panel-header>
                <h2>Material</h2>
              </v-expansion-panel-header>
              <v-expansion-panel-content>
                <v-list
                  v-for="material, index in materials"
                  :key="material.id"
                  style="padding: 0px"
                >
                  <v-container
                    v-bind:style="(material.id % 2 == 0) ? 'background-color: rgba(190, 190, 190, 0.1);' : 'background-color: rgba(255, 255, 255, 0.0);'"
                  >
                    <h4>Material {{material.id}}</h4>
                    <v-row>
                      <v-col class="textfield-col">
                        <v-text-field
                          v-model="material.name"
                          :rules="[rules.required, rules.name]"
                          label="Material Name"
                          outlined
                          dense
                        ></v-text-field>
                      </v-col>
                      <v-col class="textfield-col">
                        <v-tooltip bottom
                          ><template v-slot:activator="{ on, attrs }">
                            <v-btn
                              class="my-btn"
                              v-bind="attrs"
                              v-on="on"
                              @click="removeMaterial(index)"
                            >
                              <i class="fas fa-trash-alt"></i>
                            </v-btn>
                          </template>
                          <span>Remove Material</span>
                        </v-tooltip>
                      </v-col>
                    </v-row>
                    <v-row>
                      <v-col class="textfield-col">
                        <v-select
                          class="textfield-col"
                          :items="materialModelName"
                          v-model="material.matType"
                          label="Material Model Name"
                          outlined
                          dense
                        ></v-select>
                      </v-col>
                    </v-row>
                    <template v-if="material.matType.includes('User')">
                      <v-list
                        v-for="prop, subindex in material.properties"
                        :key="material.properties.id"
                        style="padding: 0px"
                      >
                        <v-row>
                          <v-col class="textfieldlist-col">
                            <v-text-field
                              v-model="prop.value"
                              :rules="[rules.required, rules.float]"
                              :label="prop.name"
                              outlined
                              dense
                            ></v-text-field>
                          </v-col>
                          <v-col class="textfieldlist-col">
                            <v-tooltip bottom
                              ><template v-slot:activator="{ on, attrs }">
                                <v-btn
                                  class="my-btn"
                                  v-bind="attrs"
                                  v-on="on"
                                  @click="removeProp(index, subindex)"
                                >
                                  <i class="fas fa-trash-alt"></i>
                                </v-btn>
                              </template>
                              <span>Remove Property</span>
                            </v-tooltip>
                          </v-col>
                        </v-row>
                      </v-list>
                      <v-row>
                        <v-col class="textfieldlist-col">
                          <v-tooltip bottom
                            ><template v-slot:activator="{ on, attrs }">
                              <v-btn
                                class="my-btn"
                                v-bind="attrs"
                                v-on="on"
                                @click="addProp(index)"
                              >
                                <i class="fas fa-plus"></i>
                              </v-btn>
                            </template>
                            <span>Add Property</span>
                          </v-tooltip>
                        </v-col>
                        <v-col class="textfieldlist-col">
                          <v-tooltip bottom
                            ><template v-slot:activator="{ on, attrs }">
                              <v-btn
                                class="my-btn"
                                v-bind="attrs"
                                v-on="on"
                                @click="uploadSo"
                              >
                                <i class="fas fa-upload"></i>
                              </v-btn>
                            </template>
                            <span>Upload shared Libraries</span>
                          </v-tooltip>
                        </v-col>
                      </v-row>
                    </template>
                    <!-- <template v-else> -->
                    <v-row>
                      <v-col class="textfield-col">
                        <v-text-field
                          v-model="material.density"
                          :label="materialKeys.density"
                          outlined
                          dense
                        ></v-text-field>
                      </v-col>
                      <v-col class="textfield-col">
                        <v-text-field
                          v-model="material.poissonsRatio"
                          :label="materialKeys.poissonsRatio"
                          clearable
                          outlined
                          dense
                        ></v-text-field>
                      </v-col>
                    </v-row>
                    <v-row>
                      <v-col class="textfield-col">
                        <v-text-field
                          v-model="material.bulkModulus"
                          :label="materialKeys.bulkModulus"
                          clearable
                          outlined
                          dense
                        ></v-text-field>
                      </v-col>
                      <v-col class="textfield-col">
                        <v-text-field
                          v-model="material.shearModulus"
                          :label="materialKeys.shearModulus"
                          clearable
                          outlined
                          dense
                        ></v-text-field>
                      </v-col>
                      <v-col class="textfield-col">
                        <v-text-field
                          v-model="material.youngsModulus"
                          :label="materialKeys.youngsModulus"
                          clearable
                          outlined
                          dense
                        ></v-text-field>
                      </v-col>
                    </v-row>
                    <v-row>
                      <v-col class="textfield-col">
                        <v-switch
                          v-model="material.tensionSeparation"
                          :label="`Tension Separation`"
                          dense
                        ></v-switch>
                      </v-col>
                      <v-col class="textfield-col">
                        <v-switch
                          v-model="material.nonLinear"
                          :label="`Non linear`"
                          dense
                        ></v-switch>
                      </v-col>
                      <v-col
                        class="textfield-col"
                        v-if="material.matType=='Elastic'"
                      >
                        <v-switch
                          v-model="material.computePartialStress"
                          :label="`Compute Partial Stress`"
                          dense
                        ></v-switch>
                      </v-col>
                    </v-row>
                    <v-row>
                      <v-col class="textfield-col">
                        <v-select
                          :items="materialSymmetry"
                          v-model="material.materialSymmetry"
                          v-show="material.matType=='Linear Elastic Correspondence'"
                          label="Material Symmetry"
                          outlined
                          dense
                        ></v-select>
                      </v-col>
                    </v-row>
                    <v-container
                      v-if="material.materialSymmetry=='Anisotropic' & material.matType=='Linear Elastic Correspondence'"
                    >
                      <v-row>
                        <li
                          v-for="params in material.Parameter"
                          :key="params.index"
                        >
                          <v-text-field
                            class="textfield-col"
                            style="padding-right: 10px"
                            v-model="params.value"
                            :label="params.name"
                            :rules="[rules.required, rules.float]"
                            outlined
                            dense
                          ></v-text-field>
                        </li>
                      </v-row>
                    </v-container>
                    <v-row>
                      <v-col class="textfield-col">
                        <v-select
                          :items="stabilizatonType"
                          v-model="material.stabilizatonType"
                          label="Stabilizaton Type"
                          outlined
                          dense
                        ></v-select>
                      </v-col>
                    </v-row>
                    <v-row>
                      <v-col class="textfield-col">
                        <v-text-field
                          v-model="material.thickness"
                          :rules="[rules.required, rules.float]"
                          label="Thickness"
                          outlined
                          dense
                        ></v-text-field>
                      </v-col>
                    </v-row>
                    <v-row>
                      <v-col class="textfield-col">
                        <v-text-field
                          v-model="material.hourglassCoefficient"
                          :rules="[rules.required, rules.float]"
                          label="Hourglass Coefficient"
                          outlined
                          dense
                        ></v-text-field>
                      </v-col>
                    </v-row>
                    <v-row>
                      <v-col
                        class="textfield-col"
                        v-show="material.matType=='Elastic Plastic Hypoelastic Correspondence'"
                      >
                        <v-text-field
                          v-model="material.actualHorizon"
                          :rules="[rules.required, rules.float]"
                          label="Actual Horizon"
                          outlined
                          dense
                        ></v-text-field>
                      </v-col>
                    </v-row>
                    <v-row>
                      <v-col
                        class="textfield-col"
                        v-show="material.matType.includes('Plastic')"
                      >
                        <v-text-field
                          v-model="material.yieldStress"
                          :rules="[rules.required, rules.float]"
                          label="Yield Stress"
                          outlined
                          dense
                        ></v-text-field>
                      </v-col>
                    </v-row>
                    <!-- </template> -->
                  </v-container>
                  <v-divider></v-divider>
                </v-list>
                <v-tooltip bottom
                  ><template v-slot:activator="{ on, attrs }">
                    <v-btn
                      class="my-btn"
                      v-bind="attrs"
                      v-on="on"
                      @click="addMaterial"
                    >
                      <i class="fas fa-plus"></i>
                    </v-btn>
                  </template>
                  <span>Add Material</span>
                </v-tooltip>
              </v-expansion-panel-content>
            </v-expansion-panel>
            <v-divider></v-divider>
            <v-expansion-panel>
              <v-expansion-panel-header>
                <h2>Damage Models</h2>
              </v-expansion-panel-header>
              <v-expansion-panel-content>
                <v-list
                  v-for="damage, index in damages"
                  :key="damage.id"
                  style="padding: 0px"
                >
                  <v-container
                    v-bind:style="(damage.id % 2 == 0) ? 'background-color: rgba(190, 190, 190, 0.1);' : 'background-color: rgba(255, 255, 255, 0.0);'"
                  >
                    <v-row>
                      <h4>Damage Model{{damage.id}}</h4>
                    </v-row>
                    <v-row>
                      <v-col class="textfieldlist-col">
                        <v-text-field
                          v-model="damage.name"
                          label="Damage Name"
                          outlined
                          dense
                        ></v-text-field>
                      </v-col>
                      <v-col class="textfieldlist-col">
                        <v-tooltip bottom
                          ><template v-slot:activator="{ on, attrs }">
                            <v-btn
                              class="my-btn"
                              v-bind="attrs"
                              v-on="on"
                              @click="removeDamage(index)"
                            >
                              <i class="fas fa-trash-alt"></i>
                            </v-btn>
                          </template>
                          <span>Remove Damage Model</span>
                        </v-tooltip>
                      </v-col>
                    </v-row>
                    <v-select
                      class="textfield-col"
                      :items="damageModelName"
                      v-model="damage.damageModel"
                      label="Damage Model Name"
                      outlined
                      dense
                    ></v-select>
                    <v-row>
                      <v-col class="textfield-col">
                        <v-text-field
                          v-model="damage.criticalStretch"
                          :rules="[rules.float]"
                          label="Critical Stretch"
                          clearable
                          outlined
                          dense
                        ></v-text-field>
                      </v-col>
                      <v-col class="textfield-col">
                        <v-text-field
                          v-model="damage.criticalEnergy"
                          :rules="[rules.float]"
                          label="Critical Energy"
                          clearable
                          outlined
                          dense
                        ></v-text-field>
                      </v-col>
                    </v-row>
                    <v-switch
                      class="checkbox-col"
                      v-model="damage.interBlockDamage"
                      label="Inter Block Damage"
                      dense
                    ></v-switch>
                    <template v-if="damage.interBlockDamage">
                      <v-list
                        v-for="prop, subindex in damage.interBlocks"
                        :key="damage.interBlocks.id"
                        style="padding: 0px"
                      >
                        <v-row>
                          <v-col class="textfieldlist-col" cols="12" sm="2">
                            <v-select
                              :items="blocks"
                              item-text="id"
                              v-model="prop.firstBlockId"
                              label="First Block Id"
                              outlined
                              dense
                            ></v-select>
                          </v-col>
                          <v-col class="textfieldlist-col" cols="12" sm="2">
                            <v-select
                              :items="blocks"
                              item-text="id"
                              v-model="prop.secondBlockId"
                              label="Second Block Id"
                              outlined
                              dense
                            ></v-select>
                          </v-col>
                          <v-col class="textfieldlist-col" cols="12" sm="4">
                            <v-text-field
                              v-model="prop.value"
                              :rules="[rules.required, rules.float]"
                              label="Critical Energy"
                              outlined
                              dense
                            ></v-text-field>
                          </v-col>
                          <v-col class="textfieldlist-col">
                            <v-tooltip bottom
                              ><template v-slot:activator="{ on, attrs }">
                                <v-btn
                                  class="my-btn"
                                  v-bind="attrs"
                                  v-on="on"
                                  @click="removeInterBlock(index, subindex)"
                                >
                                  <i class="fas fa-trash-alt"></i>
                                </v-btn>
                              </template>
                              <span>Remove InterBlock</span>
                            </v-tooltip>
                          </v-col>
                        </v-row>
                      </v-list>
                      <v-row>
                        <v-col class="textfieldlist-col">
                          <v-tooltip bottom
                            ><template v-slot:activator="{ on, attrs }">
                              <v-btn
                                class="my-btn"
                                v-bind="attrs"
                                v-on="on"
                                @click="addInterBlock(index)"
                              >
                                <i class="fas fa-plus"></i>
                              </v-btn>
                            </template>
                            <span>Add InterBlock</span>
                          </v-tooltip>
                        </v-col>
                      </v-row>
                    </template>
                    <v-switch
                      class="checkbox-col"
                      v-model="damage.onlyTension"
                      label="Only Tension"
                      dense
                    ></v-switch>
                    <v-row class="mb-2"></v-row>
                    <v-row>
                      <v-col class="textfield-col">
                        <v-select
                          :items="stabilizatonType"
                          v-model="damage.stabilizatonType"
                          label="Stabilizaton Type"
                          outlined
                          dense
                        ></v-select>
                      </v-col>
                    </v-row>
                    <v-switch
                      class="checkbox-col"
                      v-model="damage.detachedNodesCheck"
                      label="Detached Nodes Check"
                      dense
                    ></v-switch>
                    <v-row class="mb-2"></v-row>
                    <v-row>
                      <v-col class="textfield-col">
                        <v-text-field
                          class="textfield-col"
                          v-model="damage.thickness"
                          :rules="[rules.required, rules.float]"
                          label="Thickness"
                          outlined
                          dense
                        ></v-text-field>
                      </v-col>
                    </v-row>
                    <v-row>
                      <v-col class="textfield-col">
                        <v-text-field
                          class="textfield-col"
                          v-model="damage.hourglassCoefficient"
                          :rules="[rules.required, rules.float]"
                          label="Hourglass Coefficient"
                          outlined
                          dense
                        ></v-text-field>
                      </v-col>
                    </v-row>
                  </v-container>
                  <v-divider></v-divider>
                </v-list>
                <v-tooltip bottom
                  ><template v-slot:activator="{ on, attrs }">
                    <v-btn
                      class="my-btn"
                      v-bind="attrs"
                      v-on="on"
                      @click="addDamage"
                    >
                      <i class="fas fa-plus"></i>
                    </v-btn>
                  </template>
                  <span>Add Damage Model</span>
                </v-tooltip>
              </v-expansion-panel-content>
            </v-expansion-panel>
            <v-divider></v-divider>
            <v-expansion-panel>
              <v-expansion-panel-header>
                <h2>Blocks</h2>
              </v-expansion-panel-header>
              <v-expansion-panel-content>
                <v-list v-for="block in blocks" :key="block.id">
                  <!-- <h4>block_{{block.id}}</h4> -->
                  <v-row>
                    <v-col class="textfieldlist-col" cols="12" sm="2">
                      <v-text-field
                        v-model="block.name"
                        label="Block Name"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                    <v-col class="textfieldlist-col" cols="12" sm="2">
                      <v-select
                        :items="materials"
                        item-text="name"
                        v-model="block.material"
                        label="Material"
                        outlined
                        dense
                      ></v-select>
                    </v-col>
                    <v-col class="textfieldlist-col" cols="12" sm="3">
                      <v-select
                        :items="damages"
                        item-text="name"
                        v-model="block.damageModel"
                        label="Damage Model"
                        clearable
                        outlined
                        dense
                      ></v-select>
                    </v-col>
                    <v-col class="textfieldlist-col" cols="12" sm="2">
                      <v-checkbox
                        v-model="block.show"
                        label="Show"
                        @change="filterPointData"
                        outlined
                        dense
                      ></v-checkbox>
                    </v-col>
                    <v-col
                      class="textfieldlist-col"
                      v-if="model.ownModel"
                      cols="12"
                      sm="1"
                    >
                      <v-tooltip bottom
                        ><template v-slot:activator="{ on, attrs }">
                          <v-btn
                            class="my-btn"
                            v-bind="attrs"
                            v-on="on"
                            @click="removeBlock(index)"
                          >
                            <i class="fas fa-trash-alt"></i>
                          </v-btn>
                        </template>
                        <span>Remove Block</span>
                      </v-tooltip>
                    </v-col>
                  </v-row>
                  <v-divider></v-divider>
                </v-list>
                <v-tooltip bottom v-if="model.ownModel"
                  ><template v-slot:activator="{ on, attrs }">
                    <v-btn
                      class="my-btn"
                      v-bind="attrs"
                      v-on="on"
                      @click="addBlock"
                    >
                      <i class="fas fa-plus"></i>
                    </v-btn>
                  </template>
                  <span>Add Block</span>
                </v-tooltip>
              </v-expansion-panel-content>
            </v-expansion-panel>
            <v-divider></v-divider>
            <v-expansion-panel>
              <v-expansion-panel-header>
                <h2>Contact</h2>
              </v-expansion-panel-header>
              <v-expansion-panel-content>
                <v-col class="checkbox-col" cols="12" sm="2">
                  <v-checkbox
                    v-model="contact.enabled"
                    label="Enabled"
                    outlined
                    dense
                  ></v-checkbox>
                </v-col>

                <v-row class="mb-8"></v-row>
                <v-container v-if="contact.enabled">
                  <v-row>
                    <v-col class="textfield-col" cols="12" sm="3">
                      <v-text-field
                        v-model="contact.searchRadius"
                        label="Search Radius"
                        :rules="[rules.required, rules.float]"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                    <v-col class="textfield-col" cols="12" sm="3">
                      <v-text-field
                        v-model="contact.searchFrequency"
                        label="Search Frequency"
                        :rules="[rules.required, rules.int]"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                  </v-row>
                  <v-row class="mb-2"></v-row>
                  <v-divider></v-divider>
                  <v-list
                    v-for="contactModel, index in contact.contactModels"
                    :key="contactModel.id"
                  >
                    <!-- <h4>block_{{block.id}}</h4> -->
                    <v-row>
                      <v-col class="textfieldlist-col" cols="12" sm="3">
                        <v-text-field
                          v-model="contactModel.name"
                          label="Name"
                          outlined
                          dense
                        ></v-text-field>
                      </v-col>
                      <v-col class="textfieldlist-col" cols="12" sm="3">
                        <v-select
                          :items="contactType"
                          item-text="name"
                          v-model="contactModel.contactType"
                          label="Type"
                          outlined
                          dense
                        ></v-select>
                      </v-col>
                      <v-col class="textfieldlist-col" cols="12" sm="2">
                        <v-text-field
                          v-model="contactModel.contactRadius"
                          label="Contact Radius"
                          outlined
                          dense
                        ></v-text-field>
                      </v-col>
                      <v-col class="textfieldlist-col" cols="12" sm="2">
                        <v-text-field
                          v-model="contactModel.springConstant"
                          label="Spring Constant"
                          outlined
                          dense
                        ></v-text-field>
                      </v-col>
                      <v-col class="textfieldlist-col" cols="12" sm="1">
                        <v-tooltip bottom
                          ><template v-slot:activator="{ on, attrs }">
                            <v-btn
                              class="my-btn"
                              v-bind="attrs"
                              v-on="on"
                              @click="removeContactModel(index)"
                            >
                              <i class="fas fa-trash-alt"></i>
                            </v-btn>
                          </template>
                          <span>Remove Contact Model</span>
                        </v-tooltip>
                      </v-col>
                    </v-row>
                    <v-divider></v-divider>
                  </v-list>
                  <v-tooltip bottom
                    ><template v-slot:activator="{ on, attrs }">
                      <v-btn
                        class="my-btn"
                        v-bind="attrs"
                        v-on="on"
                        @click="addContactModel"
                      >
                        <i class="fas fa-plus"></i>
                      </v-btn>
                    </template>
                    <span>Add Contact Model</span>
                  </v-tooltip>
                  <v-row class="mb-6"></v-row>
                  <v-divider></v-divider>
                  <v-list
                    v-for="interaction, index in contact.interactions"
                    :key="interaction.id"
                  >
                    <!-- <h4>block_{{block.id}}</h4> -->
                    <v-row>
                      <v-col class="textfieldlist-col" cols="12" sm="2">
                        <v-select
                          :items="blocks"
                          item-text="id"
                          v-model="interaction.firstBlockId"
                          label="First Block Id"
                          outlined
                          dense
                        ></v-select>
                      </v-col>
                      <v-col class="textfieldlist-col" cols="12" sm="2">
                        <v-select
                          :items="blocks"
                          item-text="id"
                          v-model="interaction.secondBlockId"
                          label="Second Block Id"
                          outlined
                          dense
                        ></v-select>
                      </v-col>
                      <v-col class="textfieldlist-col" cols="12" sm="2">
                        <v-select
                          :items="contact.contactModels"
                          item-text="id"
                          v-model="interaction.contactModelId"
                          label="Contact Model Id"
                          outlined
                          dense
                        ></v-select>
                      </v-col>
                      <v-col class="textfieldlist-col" cols="12" sm="1">
                        <v-tooltip bottom
                          ><template v-slot:activator="{ on, attrs }">
                            <v-btn
                              class="my-btn"
                              v-bind="attrs"
                              v-on="on"
                              @click="removeInteraction(index)"
                            >
                              <i class="fas fa-trash-alt"></i>
                            </v-btn>
                          </template>
                          <span>Remove Interaction</span>
                        </v-tooltip>
                      </v-col>
                    </v-row>
                    <v-divider></v-divider>
                  </v-list>
                  <v-tooltip bottom
                    ><template v-slot:activator="{ on, attrs }">
                      <v-btn
                        class="my-btn"
                        v-bind="attrs"
                        v-on="on"
                        @click="addInteraction"
                      >
                        <i class="fas fa-plus"></i>
                      </v-btn>
                    </template>
                    <span>Add Interaction</span>
                  </v-tooltip>
                </v-container>
              </v-expansion-panel-content>
            </v-expansion-panel>
            <v-divider></v-divider>
            <v-expansion-panel>
              <v-expansion-panel-header>
                <h2>Boundary Conditions</h2>
              </v-expansion-panel-header>
              <v-expansion-panel-content>
                <v-list
                  v-for="boundaryCondition, index in boundaryConditions"
                  :key="boundaryCondition.id"
                >
                  <!-- <h4>block_{{block.id}}</h4> -->
                  <v-row>
                    <v-col class="textfieldlist-col" cols="12" sm="2">
                      <v-text-field
                        v-model="boundaryCondition.name"
                        label="Name"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                    <v-col class="textfieldlist-col" cols="12" sm="2">
                      <v-select
                        :items="boundarytype"
                        item-text="name"
                        v-model="boundaryCondition.boundarytype"
                        label="Type"
                        outlined
                        dense
                      ></v-select>
                    </v-col>
                    <v-col class="textfieldlist-col" cols="12" sm="2">
                      <v-text-field
                        v-if="model.ownModel"
                        v-model="boundaryCondition.nodeSet"
                        :label="boundaryKeys.nodeSet"
                        outlined
                        dense
                      ></v-text-field>
                      <v-select
                        v-if="!model.ownModel"
                        :items="blocks"
                        item-text="id"
                        v-model="boundaryCondition.blockId"
                        label="Block Id"
                        clearable
                        outlined
                        dense
                      ></v-select>
                    </v-col>
                    <v-col class="textfieldlist-col" cols="12" sm="2">
                      <v-select
                        :items="coordinate"
                        v-model="boundaryCondition.coordinate"
                        label="Coordinate"
                        clearable
                        outlined
                        dense
                      ></v-select>
                    </v-col>
                    <v-col class="textfieldlist-col" cols="12" sm="2">
                      <v-text-field
                        v-model="boundaryCondition.value"
                        label="Value"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                    <v-col class="textfieldlist-col" cols="12" sm="1">
                      <v-tooltip bottom
                        ><template v-slot:activator="{ on, attrs }">
                          <v-btn
                            class="my-btn"
                            v-bind="attrs"
                            v-on="on"
                            @click="removeCondition(index)"
                          >
                            <i class="fas fa-trash-alt"></i>
                          </v-btn>
                        </template>
                        <span>Remove Condition</span>
                      </v-tooltip>
                    </v-col>
                  </v-row>
                  <v-divider></v-divider>
                </v-list>
                <v-tooltip bottom
                  ><template v-slot:activator="{ on, attrs }">
                    <v-btn
                      class="my-btn"
                      v-bind="attrs"
                      v-on="on"
                      @click="addCondition"
                    >
                      <i class="fas fa-plus"></i>
                    </v-btn>
                  </template>
                  <span>Add Condition</span>
                </v-tooltip>
              </v-expansion-panel-content>
            </v-expansion-panel>
            <v-divider></v-divider>
            <v-expansion-panel>
              <v-expansion-panel-header>
                <h2>Bond Filters</h2>
              </v-expansion-panel-header>
              <v-expansion-panel-content>
                <v-list
                  v-for="bondFilter, index in bondFilters"
                  :key="bondFilter.id"
                >
                  <!-- <h4>block_{{block.id}}</h4> -->
                  <v-row>
                    <v-col class="textfield-col" cols="12" sm="2">
                      <v-text-field
                        v-model="bondFilter.name"
                        label="Name"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                    <v-col class="textfield-col" cols="12" sm="3">
                      <v-select
                        :items="bondFiltertype"
                        item-text="name"
                        v-model="bondFilter.type"
                        label="Type"
                        outlined
                        dense
                      ></v-select>
                    </v-col>
                    <v-col
                      class="textfield-col"
                      cols="12"
                      sm="3"
                      v-if="bondFilter.type=='Rectangular_Plane'"
                    >
                      <v-text-field
                        v-model="bondFilter.bottomLength"
                        label="Bottom Length"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                    <v-col
                      class="textfield-col"
                      cols="12"
                      sm="3"
                      v-if="bondFilter.type=='Rectangular_Plane'"
                    >
                      <v-text-field
                        v-model="bondFilter.sideLength"
                        label="Side Length"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                    <v-col
                      class="textfield-col"
                      cols="12"
                      sm="3"
                      v-if="bondFilter.type=='Disk'"
                    >
                      <v-text-field
                        v-model="bondFilter.radius"
                        label="Radius"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                    <v-col class="textfield-col" cols="12" sm="1">
                      <v-tooltip bottom
                        ><template v-slot:activator="{ on, attrs }">
                          <v-btn
                            class="my-btn"
                            v-bind="attrs"
                            v-on="on"
                            @click="removeBondFilter(index)"
                          >
                            <i class="fas fa-trash-alt"></i>
                          </v-btn>
                        </template>
                        <span>Remove Bond Filter</span>
                      </v-tooltip>
                    </v-col>
                  </v-row>
                  <v-row>
                    <v-col class="textfield-col" cols="12" sm="3">
                      <v-text-field
                        v-model="bondFilter.normalX"
                        label="Normal X"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                    <v-col class="textfield-col" cols="12" sm="3">
                      <v-text-field
                        v-model="bondFilter.normalY"
                        label="Normal Y"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                    <v-col class="textfield-col" cols="12" sm="3">
                      <v-text-field
                        v-model="bondFilter.normalZ"
                        label="Normal Z"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                    <v-col class="textfield-col" cols="12" sm="2">
                      <v-checkbox
                        v-model="bondFilter.show"
                        label="Show"
                        @change="showHideBondFilters"
                        outlined
                        dense
                      ></v-checkbox>
                    </v-col>
                  </v-row>
                  <v-row v-show="bondFilter.type=='Rectangular_Plane'">
                    <v-col class="textfield-col" cols="12" sm="4">
                      <v-text-field
                        v-model="bondFilter.lowerLeftCornerX"
                        label="Lower Left Corner X"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                    <v-col class="textfield-col" cols="12" sm="4">
                      <v-text-field
                        v-model="bondFilter.lowerLeftCornerY"
                        label="Lower Left Corner Y"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                    <v-col class="textfield-col" cols="12" sm="4">
                      <v-text-field
                        v-model="bondFilter.lowerLeftCornerZ"
                        label="Lower Left Corner Z"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                  </v-row>
                  <v-row v-show="bondFilter.type=='Rectangular_Plane'">
                    <v-col class="textfield-col" cols="12" sm="4">
                      <v-text-field
                        v-model="bondFilter.bottomUnitVectorX"
                        label="Bottom Unit Vector X"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                    <v-col class="textfield-col" cols="12" sm="4">
                      <v-text-field
                        v-model="bondFilter.bottomUnitVectorY"
                        label="Bottom Unit Vector Y"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                    <v-col class="textfield-col" cols="12" sm="4">
                      <v-text-field
                        v-model="bondFilter.bottomUnitVectorZ"
                        label="Bottom Unit Vector Z"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                  </v-row>
                  <v-row v-show="bondFilter.type=='Disk'">
                    <v-col class="textfield-col" cols="12" sm="4">
                      <v-text-field
                        v-model="bondFilter.centerX"
                        label="Center X"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                    <v-col class="textfield-col" cols="12" sm="4">
                      <v-text-field
                        v-model="bondFilter.centerY"
                        label="Center Y"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                    <v-col class="textfield-col" cols="12" sm="4">
                      <v-text-field
                        v-model="bondFilter.centerZ"
                        label="Center Z"
                        outlined
                        dense
                      ></v-text-field>
                    </v-col>
                  </v-row>
                  <v-row class="mb-2"></v-row>
                  <v-divider></v-divider>
                </v-list>
                <v-tooltip bottom
                  ><template v-slot:activator="{ on, attrs }">
                    <v-btn
                      class="my-btn"
                      v-bind="attrs"
                      v-on="on"
                      @click="addBondFilter"
                    >
                      <i class="fas fa-plus"></i>
                    </v-btn>
                  </template>
                  <span>Add Bond Filter</span>
                </v-tooltip>
              </v-expansion-panel-content>
            </v-expansion-panel>
            <v-divider></v-divider>
            <v-expansion-panel>
              <v-expansion-panel-header>
                <h2>Output</h2>
              </v-expansion-panel-header>
              <v-expansion-panel-content>
                <v-row>
                  <h4>Compute Parameters</h4>
                </v-row>
                <v-container>
                  <v-list v-for="compute, index in computes" :key="compute.id">
                    <v-row>
                      <v-col class="textfield-col" cols="12" sm="3">
                        <v-text-field
                          v-model="compute.name"
                          label="Name"
                          outlined
                          dense
                        ></v-text-field>
                      </v-col>
                      <v-col class="textfieldlist-col" cols="12" sm="2">
                        <v-select
                          :items="variables"
                          v-model="compute.variable"
                          label="Variable"
                          outlined
                          dense
                        ></v-select>
                      </v-col>
                      <v-col class="textfieldlist-col" cols="12" sm="2">
                        <v-select
                          :items="calculationType"
                          v-model="compute.calculationType"
                          label="Calculation Type"
                          outlined
                          dense
                        ></v-select>
                      </v-col>
                      <v-col class="textfieldlist-col" cols="12" sm="2">
                        <v-select
                          :items="blocks"
                          item-text="name"
                          v-model="compute.blockName"
                          label="Block Id"
                          clearable
                          outlined
                          dense
                        ></v-select>
                      </v-col>
                      <v-col class="textfieldlist-col" cols="12" sm="1">
                        <v-tooltip bottom
                          ><template v-slot:activator="{ on, attrs }">
                            <v-btn
                              class="my-btn"
                              v-bind="attrs"
                              v-on="on"
                              @click="removeCompute(index)"
                            >
                              <i class="fas fa-trash-alt"></i>
                            </v-btn>
                          </template>
                          <span>Remove Compute</span>
                        </v-tooltip>
                      </v-col>
                    </v-row>
                    <v-divider></v-divider>
                  </v-list>
                </v-container>
                <v-row>
                  <v-col class="textfield-col">
                    <v-tooltip bottom class="textfield-col"
                      ><template v-slot:activator="{ on, attrs }">
                        <v-btn
                          class="my-btn"
                          v-bind="attrs"
                          v-on="on"
                          @click="addCompute"
                        >
                          <i class="fas fa-plus"></i>
                        </v-btn>
                      </template>
                      <span>Add Compute</span>
                    </v-tooltip>
                  </v-col>
                </v-row>
                <v-divider></v-divider>
                <v-list
                  v-for="output, index in outputs"
                  :key="output.id"
                  style="padding: 0px"
                >
                  <v-container
                    v-bind:style="(output.id % 2 == 0) ? 'background-color: rgba(190, 190, 190, 0.1);' : 'background-color: rgba(255, 255, 255, 0.0);'"
                  >
                    <v-row>
                      <h4>Output {{output.id}}</h4>
                    </v-row>
                    <v-row>
                      <v-col class="textfield-col">
                        <v-text-field
                          v-model="output.name"
                          label="Name"
                          outlined
                          dense
                        ></v-text-field>
                      </v-col>
                      <v-col class="textfield-col">
                        <v-tooltip bottom
                          ><template v-slot:activator="{ on, attrs }">
                            <v-btn
                              class="my-btn"
                              v-bind="attrs"
                              v-on="on"
                              @click="removeOutput(index)"
                            >
                              <i class="fas fa-trash-alt"></i>
                            </v-btn>
                          </template>
                          <span>Remove Output</span>
                        </v-tooltip>
                      </v-col>
                    </v-row>
                    <v-row>
                      <v-col class="checkbox-col" cols="15" sm="5" md="5">
                        <v-checkbox
                          class="shrink mr-0 mt-0"
                          v-model="output.Displacement"
                          label="Displacement"
                          dense
                        ></v-checkbox>
                      </v-col>
                      <v-col class="checkbox-col" cols="15" sm="5" md="5">
                        <v-checkbox
                          class="shrink mr-0 mt-0"
                          v-model="output.Force"
                          label="Force"
                          dense
                        ></v-checkbox>
                      </v-col>
                    </v-row>
                    <v-row>
                      <v-col class="checkbox-col" cols="15" sm="5" md="5">
                        <v-checkbox
                          class="shrink mr-0 mt-0"
                          v-model="output.Damage"
                          label="Damage"
                          dense
                        ></v-checkbox>
                      </v-col>
                      <v-col class="checkbox-col" cols="15" sm="5" md="5">
                        <v-checkbox
                          class="shrink mr-0 mt-0"
                          v-model="output.Velocity"
                          label="Velocity"
                          dense
                        ></v-checkbox>
                      </v-col>
                    </v-row>
                    <v-row>
                      <v-col class="checkbox-col" cols="15" sm="5" md="5">
                        <v-checkbox
                          class="shrink mr-0 mt-0"
                          v-model="output.Partial_Stress"
                          label="Partial_Stress"
                          dense
                        ></v-checkbox>
                      </v-col>
                      <v-col class="checkbox-col" cols="15" sm="5" md="5">
                        <v-checkbox
                          class="shrink mr-0 mt-0"
                          v-model="output.Number_Of_Neighbors"
                          label="Number_Of_Neighbors"
                          dense
                        ></v-checkbox>
                      </v-col>
                      <!-- <v-col
                        cols="15"
                        sm="5"
                        md="5">
                          <v-checkbox class="shrink mr-0 mt-0"
                            v-model=output.External_Displacement
                            label="External_Displacement"></v-checkbox>
                        </v-col> -->
                    </v-row>
                    <v-row>
                      <v-col class="checkbox-col" cols="15" sm="5" md="5">
                        <v-checkbox
                          class="shrink mr-0 mt-0"
                          v-model="output.Contact_Force"
                          label="Contact_Force"
                          dense
                        ></v-checkbox>
                      </v-col>
                    </v-row>
                    <v-row>
                      <v-col class="checkbox-col" cols="15" sm="5" md="5">
                        <v-checkbox
                          class="shrink mr-0 mt-0"
                          v-model="output.Horizon"
                          label="Horizon"
                          dense
                        ></v-checkbox>
                      </v-col>
                      <v-col class="checkbox-col" cols="15" sm="5" md="5">
                        <v-checkbox
                          class="shrink mr-0 mt-0"
                          v-model="output.Model_Coordinates"
                          label="Model_Coordinates"
                          dense
                        ></v-checkbox>
                      </v-col>
                    </v-row>
                    <v-row>
                      <v-col class="checkbox-col" cols="15" sm="5" md="5">
                        <v-checkbox
                          class="shrink mr-0 mt-0"
                          v-model="output.Local_Angles"
                          label="Local_Angles"
                          dense
                        ></v-checkbox>
                      </v-col>
                      <v-col class="checkbox-col" cols="15" sm="5" md="5">
                        <v-checkbox
                          class="shrink mr-0 mt-0"
                          v-model="output.Coordinates"
                          label="Coordinates"
                          dense
                        ></v-checkbox>
                      </v-col>
                    </v-row>
                    <v-row>
                      <v-col class="checkbox-col" cols="15" sm="5" md="5">
                        <v-checkbox
                          class="shrink mr-0 mt-0"
                          v-model="output.Acceleration"
                          label="Acceleration"
                          dense
                        ></v-checkbox>
                      </v-col>
                      <v-col class="checkbox-col" cols="15" sm="5" md="5">
                        <v-checkbox
                          class="shrink mr-0 mt-0"
                          v-model="output.Temperature"
                          label="Temperature"
                          dense
                        ></v-checkbox>
                      </v-col>
                    </v-row>
                    <v-row>
                      <v-col class="checkbox-col" cols="15" sm="5" md="5">
                        <v-checkbox
                          class="shrink mr-0 mt-0"
                          v-model="output.Temperature_Change"
                          label="Temperature_Change"
                          dense
                        ></v-checkbox>
                      </v-col>
                      <v-col class="checkbox-col" cols="15" sm="5" md="5">
                        <v-checkbox
                          class="shrink mr-0 mt-0"
                          v-model="output.Force_Density"
                          label="Force_Density"
                          dense
                        ></v-checkbox>
                      </v-col>
                    </v-row>
                    <v-row>
                      <v-col class="checkbox-col" cols="15" sm="5" md="5">
                        <v-checkbox
                          class="shrink mr-0 mt-0"
                          v-model="output.External_Force_Density"
                          label="External_Force_Density"
                          dense
                        ></v-checkbox>
                      </v-col>
                      <v-col class="checkbox-col" cols="15" sm="5" md="5">
                        <v-checkbox
                          class="shrink mr-0 mt-0"
                          v-model="output.PiolaStressTimesInvShapeTensor"
                          label="PiolaStressTimesInvShapeTensor"
                          dense
                        ></v-checkbox>
                      </v-col>
                    </v-row>
                    <v-row>
                      <v-col cols="15" sm="5" md="5">
                        <v-checkbox
                          class="shrink mr-0 mt-0"
                          v-model="output.Damage_Model_Data"
                          label="Damage_Model_Data"
                          dense
                        ></v-checkbox>
                      </v-col>
                      <v-col cols="15" sm="5" md="5">
                        <v-checkbox
                          class="shrink mr-0 mt-0"
                          v-model="output.Velocity_Gradient"
                          label="Velocity_Gradient"
                          dense
                        ></v-checkbox>
                      </v-col>
                    </v-row>
                    <v-text-field
                      class="textfield-col"
                      v-model="output.Frequency"
                      label="Output Frequency"
                      outlined
                      dense
                    ></v-text-field>
                    <v-text-field
                      class="textfield-col"
                      v-model="output.InitStep"
                      label="Initial Output Step"
                      outlined
                      dense
                    ></v-text-field>
                    <v-checkbox
                      class="shrink mr-0 mt-0"
                      v-model="output.Write_After_Damage"
                      label="Write After Damage"
                      dense
                    ></v-checkbox>
                  </v-container>
                  <v-divider></v-divider>
                </v-list>
                <v-tooltip bottom
                  ><template v-slot:activator="{ on, attrs }">
                    <v-btn
                      class="my-btn"
                      v-bind="attrs"
                      v-on="on"
                      @click="addOutput"
                    >
                      <i class="fas fa-plus"></i>
                    </v-btn>
                  </template>
                  <span>Add Output</span>
                </v-tooltip>
              </v-expansion-panel-content>
            </v-expansion-panel>
            <v-divider></v-divider>
            <v-expansion-panel>
              <v-expansion-panel-header>
                <h2>Solver</h2>
              </v-expansion-panel-header>
              <v-expansion-panel-content>
                <v-row>
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-text-field
                      v-model="solver.initialTime"
                      label="Initial Time"
                      :rules="[rules.required, rules.float]"
                      outlined
                      dense
                    ></v-text-field>
                  </v-col>
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-text-field
                      v-model="solver.finalTime"
                      label="Final Time"
                      :rules="[rules.required, rules.float]"
                      outlined
                      dense
                    ></v-text-field>
                  </v-col>
                  <v-col
                    class="textfield-col"
                    v-show="solver.solvertype=='Implicit' | solver.solvertype=='Verlet'"
                    cols="12"
                    sm="3"
                  >
                    <v-text-field
                      v-model="solver.fixedDt"
                      label="Fixed dt"
                      clearable
                      outlined
                      dense
                    ></v-text-field>
                  </v-col>
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-checkbox
                      v-model="solver.verbose"
                      label="Verbose"
                      outlined
                      dense
                    ></v-checkbox>
                  </v-col>
                </v-row>
                <v-row>
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-select
                      :items="solvertype"
                      v-model="solver.solvertype"
                      label="Solvertype"
                      outlined
                      dense
                    ></v-select>
                  </v-col>
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-text-field
                      v-model="solver.safetyFactor"
                      label="Safety Factor"
                      :rules="[rules.required, rules.float]"
                      outlined
                      dense
                    ></v-text-field>
                  </v-col>
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-text-field
                      v-model="solver.numericalDamping"
                      label="Numerical Damping"
                      :rules="[rules.required, rules.float]"
                      outlined
                      dense
                    ></v-text-field>
                  </v-col>
                </v-row>
                <v-row v-show="solver.solvertype=='NOXQuasiStatic'">
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-select
                      :items="peridgimPreconditioner"
                      v-model="solver.peridgimPreconditioner"
                      label="Peridgim Preconditioner"
                      outlined
                      dense
                    ></v-select>
                  </v-col>
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-select
                      :items="nonlinearSolver"
                      v-model="solver.nonlinearSolver"
                      label="Nonlinear Solver"
                      outlined
                      dense
                    ></v-select>
                  </v-col>
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-text-field
                      v-model="solver.numberOfLoadSteps"
                      label="Number of Load Steps"
                      :rules="[rules.required, rules.int]"
                      outlined
                      dense
                    ></v-text-field>
                  </v-col>
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-text-field
                      v-model="solver.maxSolverIterations"
                      label="Max Solver Iterations"
                      :rules="[rules.required, rules.int]"
                      outlined
                      dense
                    ></v-text-field>
                  </v-col>
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-text-field
                      v-model="solver.relativeTolerance"
                      label="Relative Tolerance"
                      :rules="[rules.required, rules.float]"
                      outlined
                      dense
                    ></v-text-field>
                  </v-col>
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-text-field
                      v-model="solver.maxAgeOfPrec"
                      label="Max Age Of Prec"
                      outlined
                      dense
                    ></v-text-field>
                  </v-col>
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-select
                      :items="directionMethod"
                      v-model="solver.directionMethod"
                      label="Direction Method"
                      outlined
                      dense
                    ></v-select>
                  </v-col>
                </v-row>
                <v-row v-show="solver.solvertype=='NOXQuasiStatic'">
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-select
                      :items="jacobianOperator"
                      v-model="solver.newton.jacobianOperator"
                      label="Jacobian Operator"
                      outlined
                      dense
                    ></v-select>
                  </v-col>
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-select
                      :items="preconditioner"
                      v-model="solver.newton.preconditioner"
                      label="Preconditioner"
                      outlined
                      dense
                    ></v-select>
                  </v-col>
                </v-row>
                <v-row v-show="solver.solvertype=='NOXQuasiStatic'">
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-select
                      :items="lineSearchMethod"
                      v-model="solver.lineSearchMethod"
                      label="Line Search Method"
                      outlined
                      dense
                    ></v-select>
                  </v-col>
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-checkbox
                      v-model="solver.verletSwitch"
                      label="Switch to Verlet"
                      outlined
                      dense
                    ></v-checkbox>
                  </v-col>
                </v-row>
                <v-row
                  v-show="solver.verletSwitch & solver.solvertype=='NOXQuasiStatic'"
                >
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-text-field
                      v-model="solver.verlet.safetyFactor"
                      label="Safety Factor"
                      :rules="[rules.required, rules.float]"
                      outlined
                      dense
                    ></v-text-field>
                  </v-col>
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-text-field
                      v-model="solver.verlet.numericalDamping"
                      label="Numerical Damping"
                      :rules="[rules.required, rules.float]"
                      outlined
                      dense
                    ></v-text-field>
                  </v-col>
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-text-field
                      v-model="solver.verlet.outputFrequency"
                      label="Output Frequency"
                      :rules="[rules.required, rules.int]"
                      outlined
                      dense
                    ></v-text-field>
                  </v-col>
                </v-row>
                <v-row v-show="solver.solvertype=='Verlet'">
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-checkbox
                      v-model="solver.adaptivetimeStepping"
                      label="Adaptive Time Stepping"
                      outlined
                      dense
                    ></v-checkbox>
                  </v-col>
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-checkbox
                      v-model="solver.stopAfterDamageInitation"
                      label="Stop after damage initiation"
                      outlined
                      dense
                    ></v-checkbox>
                  </v-col>
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-checkbox
                      v-model="solver.stopBeforeDamageInitation"
                      label="Stop before damage initiation"
                      outlined
                      dense
                    ></v-checkbox>
                  </v-col>
                </v-row>
                <v-row
                  v-show="solver.solvertype=='Verlet' & solver.adaptivetimeStepping"
                >
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-text-field
                      v-model="solver.adapt.stableStepDifference"
                      label="Stable Step Difference"
                      outlined
                      dense
                    ></v-text-field>
                  </v-col>
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-text-field
                      v-model="solver.adapt.maximumBondDifference"
                      label="Maximum Bond Difference"
                      outlined
                      dense
                    ></v-text-field>
                  </v-col>
                  <v-col class="textfield-col" cols="12" sm="3">
                    <v-text-field
                      v-model="solver.adapt.stableBondDifference"
                      label="Stable Bond Difference"
                      outlined
                      dense
                    ></v-text-field>
                  </v-col>
                </v-row>
                <v-row>
                  <v-col class="textfield-col" cols="12" sm="12">
                    <v-select
                      :items="filetype"
                      v-model="solver.filetype"
                      v-show="job.cluster=='Cara'"
                      label="Filetype"
                      outlined
                      dense
                    ></v-select>
                  </v-col>
                </v-row>
              </v-expansion-panel-content>
            </v-expansion-panel>
            <v-expansion-panel>
              <v-expansion-panel-header>
                <h2>Job</h2>
              </v-expansion-panel-header>
              <v-expansion-panel-content>
                <v-select
                  class="textfield-col"
                  :items="cluster"
                  v-model="job.cluster"
                  @change="changeToXml(); changeNumberOfTasks();"
                  label="Cluster"
                  outlined
                  dense
                ></v-select>
                <v-text-field
                  class="textfield-col"
                  v-model="job.tasks"
                  :disabled="job.cluster=='None'"
                  label="Tasks"
                  outlined
                  dense
                ></v-text-field>
                <v-text-field
                  class="textfield-col"
                  v-model="job.time"
                  v-show="job.cluster=='Cara'"
                  label="Time"
                  outlined
                  dense
                ></v-text-field>
                <!-- <v-text-field class="textfield-col"
                      v-model="job.user"
                      label="User"
                      outlined></v-text-field> -->
                <v-text-field
                  class="textfield-col"
                  v-model="job.account"
                  v-show="job.cluster=='Cara'"
                  label="Account"
                  outlined
                  dense
                ></v-text-field>
                <!-- <v-text-field class="textfield-col"
                      v-model="job.mail"
                      label="Mail"
                      outlined></v-text-field> -->
              </v-expansion-panel-content>
            </v-expansion-panel>
          </v-expansion-panels>
        </v-card>
        <!-- </v-list-item> -->
        <!-- </v-list-item-group> -->
      </v-list>
      <!-- </div> -->
    </pane>
    <pane id="model-output" min-size="40" style="height: 100%">
      <splitpanes horizontal style="height: 100%">
        <pane size="55">
          <!-- <v-container> -->

          <v-subheader>
            <!-- <v-tooltip bottom><template v-slot:activator="{ on, attrs }">
                <v-btn class="my-btn" v-bind="attrs" v-on="on" @click="copyModelToCluster">
                    <i class="fas fa-share"></i>
                </v-btn>
              </template>
                <span>Copy Model to Cluster</span>
              </v-tooltip> -->

            <v-tooltip bottom
              ><template v-slot:activator="{ on, attrs }">
                <v-btn
                  id="button-runModel"
                  class="my-btn"
                  v-bind="attrs"
                  v-on="on"
                  @click="runModel"
                  :disabled="!status.created || status.submitted"
                >
                  <i class="fas fa-play"></i>
                </v-btn>
              </template>
              <span>Submit Model</span>
            </v-tooltip>

            <v-tooltip bottom
              ><template v-slot:activator="{ on, attrs }">
                <v-btn
                  class="my-btn"
                  v-bind="attrs"
                  v-on="on"
                  @click="cancelJob"
                  :disabled="!status.submitted"
                >
                  <i class="fas fa-times"></i>
                </v-btn>
              </template>
              <span>Cancel Job</span>
            </v-tooltip>

            <v-tooltip bottom
              ><template v-slot:activator="{ on, attrs }">
                <v-btn
                  class="my-btn"
                  v-bind="attrs"
                  v-on="on"
                  @click="dialog = true"
                  :loading="resultsLoading"
                  :disabled="resultsLoading || !status.results"
                >
                  <i class="fas fa-download"></i>
                </v-btn>
              </template>
              <span>Download Results</span>
            </v-tooltip>

            <v-dialog v-model="dialog" persistent max-width="400">
              <v-card>
                <v-card-title class="text-h5"> Download Results </v-card-title>
                <v-card-text
                  >Do you want to retrieve all modelfiles, including the
                  inputfiles and logdata or only the exodus
                  results?</v-card-text
                >
                <v-card-actions>
                  <v-spacer></v-spacer>
                  <v-btn color="green darken-1" text @click="saveResults(true)">
                    All data
                  </v-btn>
                  <v-btn
                    color="green darken-1"
                    text
                    @click="saveResults(false)"
                  >
                    Only the results
                  </v-btn>
                  <v-btn color="red darken-1" text @click="dialog = false">
                    Cancel
                  </v-btn>
                </v-card-actions>
              </v-card>
            </v-dialog>

            <v-tooltip bottom
              ><template v-slot:activator="{ on, attrs }">
                <v-btn
                  class="my-btn"
                  v-bind="attrs"
                  v-on="on"
                  @click="if(outputs.length==1){showResults(outputs[0].name)}else{dialogShowResults = true}"
                  :disabled="!status.results"
                >
                  <i class="fas fa-eye"></i>
                </v-btn>
              </template>
              <span>Show Results</span>
            </v-tooltip>

            <v-dialog v-model="dialogShowResults" persistent max-width="400">
              <v-card>
                <v-card-title class="text-h5"> Show Results </v-card-title>
                <v-card-text>Which output do you want to show ?</v-card-text>
                <v-card-actions>
                  <v-spacer></v-spacer>
                  <v-select
                    :items="outputs"
                    item-text="name"
                    v-model="showResultsOutputName"
                    label="Output Name"
                    outlined
                  ></v-select>
                  <v-btn
                    color="green darken-1"
                    text
                    @click="showResults(showResultsOutputName)"
                  >
                    Show
                  </v-btn>
                  <v-btn
                    color="red darken-1"
                    text
                    @click="dialogShowResults = false"
                  >
                    Cancel
                  </v-btn>
                </v-card-actions>
              </v-card>
            </v-dialog>

            <v-tooltip bottom v-if="viewId==3"
              ><template v-slot:activator="{ on, attrs }">
                <v-btn
                  class="my-btn"
                  v-bind="attrs"
                  v-on="on"
                  @click="openResults"
                >
                  <i class="fas fa-external-link-alt"></i>
                </v-btn>
              </template>
              <span>Open Results</span>
            </v-tooltip>

            <v-tooltip bottom
              ><template
                v-slot:activator="{ on, attrs }"
                v-if="job.cluster=='Cara'"
              >
                <v-btn
                  class="my-btn"
                  v-bind="attrs"
                  v-on="on"
                  @click="openCara"
                >
                  <i class="fas fa-external-link-alt"></i>
                </v-btn>
              </template>
              <span>CARA Enginframe</span>
            </v-tooltip>

            <v-tooltip bottom
              ><template v-slot:activator="{ on, attrs }">
                <v-btn
                  class="my-btn"
                  v-bind="attrs"
                  v-on="on"
                  @click="dialogGetPlot = true"
                  :disabled="!status.results"
                >
                  <i class="fas fa-chart-line"></i>
                </v-btn>
              </template>
              <span>Show Plot</span>
            </v-tooltip>

            <v-dialog v-model="dialogGetPlot" persistent max-width="400">
              <v-card>
                <v-card-title class="text-h5"> Show Plot </v-card-title>
                <v-card-text
                  >Which variable do you want to use for the
                  x-axis?</v-card-text
                >
                <v-card-actions>
                  <v-spacer></v-spacer>
                  <v-btn color="green darken-1" text @click="getPlot('Time')">
                    Time
                  </v-btn>
                  <v-btn
                    color="green darken-1"
                    text
                    @click="getPlot('Displacement')"
                  >
                    Displacement
                  </v-btn>
                  <v-btn
                    color="red darken-1"
                    text
                    @click="dialogGetPlot = false"
                  >
                    Cancel
                  </v-btn>
                </v-card-actions>
              </v-card>
            </v-dialog>

            <v-tooltip bottom
              ><template v-slot:activator="{ on, attrs }">
                <v-btn
                  class="my-btn"
                  v-bind="attrs"
                  v-on="on"
                  @click="dialogGetImage = true"
                  :disabled="!status.results"
                >
                  <i class="fas fa-image"></i>
                </v-btn>
              </template>
              <span>Show Image</span>
            </v-tooltip>

            <v-dialog v-model="dialogGetImage" persistent max-width="800">
              <v-card>
                <v-card-title class="text-h5"> Show Image </v-card-title>
                <v-card-text
                  >Which variable do you want to display ?</v-card-text
                >
                <v-card-actions>
                  <v-spacer></v-spacer>
                  <v-select
                    :items="outputs"
                    item-text="name"
                    v-model="getImageOutput"
                    label="Output Name"
                    outlined
                  ></v-select>
                  <v-select
                    :items="getImageVariable"
                    v-model="getImageVariableSelected"
                    label="Variable"
                    outlined
                  ></v-select>
                  <v-select
                    :items="getImageAxis"
                    :disabled="getImageVariableSelected=='Damage'"
                    v-model="getImageAxisSelected"
                    label="Axis"
                    outlined
                  ></v-select>
                  <v-btn color="green darken-1" text @click="getImage">
                    Show
                  </v-btn>
                  <!-- <v-btn
                        color="green darken-1"
                        text
                        @click="getImage('Damage')"
                      >
                        Damage
                      </v-btn>
                      <v-btn
                        color="green darken-1"
                        text
                        @click="getImage('Partial_StressX')"
                      >
                        Partial_StressX
                      </v-btn>
                      <v-btn
                        color="green darken-1"
                        text
                        @click="getImage('Force')"
                      >
                        Force
                      </v-btn> -->
                  <v-btn
                    color="red darken-1"
                    text
                    @click="dialogGetImage = false"
                  >
                    Cancel
                  </v-btn>
                </v-card-actions>
              </v-card>
            </v-dialog>

            <v-tooltip bottom
              ><template v-slot:activator="{ on, attrs }">
                <v-btn
                  class="my-btn"
                  v-bind="attrs"
                  v-on="on"
                  @click="dialogGetImagePython = true"
                  :disabled="!status.results"
                >
                  <i class="fas fa-image"></i>
                </v-btn>
              </template>
              <span>Show Image</span>
            </v-tooltip>

            <v-dialog v-model="dialogGetImagePython" persistent max-width="800">
              <v-card>
                <v-card-title class="text-h5"> Show Image </v-card-title>
                <v-card-text
                  >Which variable do you want to display ?</v-card-text
                >
                <v-card-actions>
                  <v-spacer></v-spacer>
                  <v-select
                    :items="outputs"
                    item-text="name"
                    v-model="getImageOutput"
                    label="Output Name"
                    outlined
                  ></v-select>
                  <v-select
                    :items="getImageVariable"
                    v-model="getImageVariableSelected"
                    label="Variable"
                    outlined
                  ></v-select>
                  <v-select
                    :items="getImageAxis"
                    :disabled="getImageVariableSelected=='Damage'"
                    v-model="getImageAxisSelected"
                    label="Axis"
                    outlined
                  ></v-select>
                  <v-text-field
                    v-model="getImageDisplFactor"
                    label="Displacement Factor"
                    outlined
                  ></v-text-field>
                  <v-text-field
                    v-model="getImageMarkerSize"
                    label="Marker Size"
                    outlined
                  ></v-text-field>
                  <v-btn color="green darken-1" text @click="getImagePython">
                    Show
                  </v-btn>
                  <v-btn
                    color="red darken-1"
                    text
                    @click="dialogGetImagePython = false"
                  >
                    Cancel
                  </v-btn>
                </v-card-actions>
              </v-card>
            </v-dialog>

            <v-tooltip bottom
              ><template v-slot:activator="{ on, attrs }">
                <v-btn
                  class="my-btn"
                  v-bind="attrs"
                  v-on="on"
                  @click="getG1c"
                  :disabled="!status.results"
                >
                  <i class="fas fa-image"></i>
                </v-btn>
              </template>
              <span>Show G1c</span>
            </v-tooltip>

            <!-- <v-dialog v-model="dialogGetG1c" persistent max-width="800">
              <v-card>
                <v-card-title class="text-h5"> Show G1c </v-card-title>
                <v-card-text
                  >Which variable do you want to display ?</v-card-text
                >
                <v-card-actions>
                  <v-spacer></v-spacer>
                  <v-select
                    :items="outputs"
                    item-text="name"
                    v-model="getG1cOutput"
                    label="Output Name"
                    outlined
                  ></v-select>
                  <v-text-field
                    v-model="getG1cFrequency"
                    label="Output Frequency"
                    outlined
                  ></v-text-field>
                  <v-btn color="green darken-1" text @click="getG1c">
                    Show
                  </v-btn>
                  <v-btn
                    color="red darken-1"
                    text
                    @click="dialogGetG1c = false"
                  >
                    Cancel
                  </v-btn>
                </v-card-actions>
              </v-card>
            </v-dialog> -->

            <v-tooltip bottom v-if="model.modelNameSelected=='GIICmodel'"
              ><template v-slot:activator="{ on, attrs }">
                <v-btn
                  class="my-btn"
                  v-bind="attrs"
                  v-on="on"
                  @click="getG2c"
                  :disabled="!status.results"
                >
                  <i class="fas fa-image"></i>
                </v-btn>
              </template>
              <span>Get GIIC</span>
            </v-tooltip>

            <v-tooltip bottom
              ><template v-slot:activator="{ on, attrs }">
                <v-btn
                  class="my-btn"
                  v-bind="attrs"
                  v-on="on"
                  @click="viewPointData"
                  :disabled="!status.created"
                >
                  <i class="fas fa-chess-board"></i>
                </v-btn>
              </template>
              <span>Show Model</span>
            </v-tooltip>

            <v-tooltip bottom
              ><template v-slot:activator="{ on, attrs }">
                <v-btn
                  class="my-btn"
                  v-bind="attrs"
                  v-on="on"
                  @click="dialogDeleteData = true"
                >
                  <i class="fas fa-trash"></i>
                </v-btn>
              </template>
              <span>Delete Data</span>
            </v-tooltip>

            <v-dialog v-model="dialogDeleteData" persistent max-width="500">
              <v-card>
                <v-card-title class="text-h5"> Delete Data </v-card-title>
                <v-card-text
                  >Do you want to delete the selected Model data, all Cookies or
                  all User data?</v-card-text
                >
                <v-card-actions>
                  <v-spacer></v-spacer>
                  <v-btn
                    color="green darken-1"
                    text
                    @click="dialogDeleteData = false, dialogDeleteModel = true"
                  >
                    Model data
                  </v-btn>
                  <v-btn
                    color="green darken-1"
                    text
                    @click="dialogDeleteData = false, dialogDeleteCookies = true"
                  >
                    Cookies
                  </v-btn>
                  <v-btn
                    color="green darken-1"
                    text
                    @click="dialogDeleteData = false, dialogDeleteUserData = true"
                  >
                    User data
                  </v-btn>
                  <v-btn
                    color="red darken-1"
                    text
                    @click="dialogDeleteData = false"
                  >
                    Cancel
                  </v-btn>
                </v-card-actions>
              </v-card>
            </v-dialog>

            <v-dialog v-model="dialogDeleteModel" persistent max-width="400">
              <v-card>
                <v-card-title class="text-h5"> Delete Model </v-card-title>
                <v-card-text
                  >Are you sure, you want to delete the Model?</v-card-text
                >
                <v-card-actions>
                  <v-spacer></v-spacer>
                  <v-btn color="green darken-1" text @click="deleteModel">
                    Yes
                  </v-btn>
                  <v-btn
                    color="red darken-1"
                    text
                    @click="dialogDeleteModel = false"
                  >
                    No
                  </v-btn>
                </v-card-actions>
              </v-card>
            </v-dialog>

            <!-- <v-tooltip bottom><template v-slot:activator="{ on, attrs }">
                <v-btn class="my-btn" v-bind="attrs" v-on="on" @click="dialogDeleteUserData = true">
                    <i class="fas fa-times"></i>
                </v-btn>
              </template>
                <span>Delete User Data</span>
              </v-tooltip> -->

            <v-dialog v-model="dialogDeleteCookies" persistent max-width="400">
              <v-card>
                <v-card-title class="text-h5"> Delete User Data </v-card-title>
                <v-card-text
                  >Are you sure, you want to delete all Cookies?</v-card-text
                >
                <v-card-actions>
                  <v-spacer></v-spacer>
                  <v-btn color="green darken-1" text @click="deleteCookies">
                    Yes
                  </v-btn>
                  <v-btn
                    color="red darken-1"
                    text
                    @click="dialogDeleteCookies = false"
                  >
                    No
                  </v-btn>
                </v-card-actions>
              </v-card>
            </v-dialog>

            <v-dialog v-model="dialogDeleteUserData" persistent max-width="400">
              <v-card>
                <v-card-title class="text-h5"> Delete User Data </v-card-title>
                <v-card-text
                  >Are you sure, you want to delete the User Data?</v-card-text
                >
                <v-card-actions>
                  <v-spacer></v-spacer>
                  <v-btn color="green darken-1" text @click="deleteUserData">
                    Yes
                  </v-btn>
                  <v-btn
                    color="red darken-1"
                    text
                    @click="dialogDeleteUserData = false"
                  >
                    No
                  </v-btn>
                </v-card-actions>
              </v-card>
            </v-dialog>

            <v-spacer />
          </v-subheader>
          <v-card
            class="my-card"
            title="ModelView"
            elevation="0"
            height="100%"
            width="100%"
            margin="10px"
            :loading="modelLoading"
            color="#2D2D2D"
            ref="modelView"
          >
            <v-card-title
              class="my-title"
              style="padding-top: 0px"
              v-if="viewId==1"
            >
              <v-tooltip bottom class="my-btn"
                ><template v-slot:activator="{ on, attrs }">
                  <v-btn
                    class="my-btn"
                    v-bind="attrs"
                    v-on="on"
                    @click="viewPointData"
                  >
                    <i class="fas fa-sync-alt"></i>
                  </v-btn>
                </template>
                <span>Reload Model</span>
              </v-tooltip>

              <v-tooltip bottom
                ><template v-slot:activator="{ on, attrs }">
                  <v-btn
                    class="my-btn"
                    v-bind="attrs"
                    v-on="on"
                    @click="$refs.view.resetCamera()"
                  >
                    <i class="fas fa-expand"></i>
                  </v-btn>
                </template>
                <span>Reset Camera</span>
              </v-tooltip>

              <v-slider
                v-model="radius"
                label="Radius:"
                max="2"
                min="0.01"
                step="0.01"
                class="white_label"
                @change="updatePoints"
              ></v-slider>

              <v-slider
                v-model="resolution"
                label="Resolution:"
                max="20"
                min="3"
                step="1"
                class="white_label"
              ></v-slider>
            </v-card-title>
            <template slot="progress">
              <v-progress-linear
                color="deep-purple"
                height="10"
                indeterminate
              ></v-progress-linear>
            </template>
            <!-- <v-toolbar> -->
            <!-- </v-toolbar>
              <v-divider class="mx-4"></v-divider> -->

            <v-img
              v-if="viewId==0"
              alt="DLR Logo"
              class="shrink mr-2"
              contain
              :src="modelImg"
              transition="scale-transition"
              width="100%"
              height="100%"
            />
            <vtk-view
              v-if="viewId==1"
              ref="view"
              :background="[45/255, 45/255, 45/255]"
            >
              <v-list
                v-for="bondFilterPoint, index in bondFilterPoints"
                :key="bondFilterPoint.id"
              >
                <vtk-geometry-representation>
                  <vtk-polydata
                    :points="bondFilterPoint.bondFilterPointString"
                    :polys="[4,0,1,2,3]"
                  >
                    <vtk-point-data>
                      <vtk-data-array
                        registration="setScalars"
                        name="temperature"
                        :values="[.8,.8,.8,.8]"
                      />
                    </vtk-point-data>
                  </vtk-polydata>
                </vtk-geometry-representation>
              </v-list>
              <vtk-glyph-representation>
                <vtk-polydata :points="filteredPointString">
                  <vtk-cell-data>
                    <vtk-data-array
                      registration="setScalars"
                      name="scalars"
                      :values="filteredBlockIdString"
                      :state="{ rangeMax: 12}"
                    />
                  </vtk-cell-data>
                </vtk-polydata>
                <vtk-algorithm
                  vtkClass="vtkSphereSource"
                  :state="{ phiResolution: resolution, thetaResolution: resolution, radius: radius}"
                  :port="1"
                />
              </vtk-glyph-representation>
            </vtk-view>

            <!-- <vtk-view
                v-if="viewId==1"
                ref="view"
                :background="[45/255, 45/255, 45/255]">
                <vtk-geometry-representation>
                  <vtk-reader vtkClass="vtkOBJReader" :url="vtkFile" />
                </vtk-geometry-representation>
              </vtk-view> -->
            <iframe
              v-if="viewId==3"
              :src="resultPort"
              width="100%"
              height="100%"
              frameborder="0"
            >
            </iframe>
            <Plotly
              v-if="viewId==2"
              :data="plotData"
              :layout="plotLayout"
              :options="plotOptions"
              :display-mode-bar="true"
            >
            </Plotly>

            <!-- <pdf v-if="!showVtk" :src="pdfPath" :background="[0.5, 0.5, 0.5]"
               style="display: inline-block; width: 100%; height=10%;"></pdf> -->
            <!-- <remote-component
                url="https://unpkg.com/vue-plotly@^1/dist/vue-plotly.umd.min.js"
                :data="[{ x: [0, 1, 2, 3], y: [1, 3, 3, 7], type: 'scatter' }]"
                :extract="library => library.Plotly" /> -->
            <!-- <remote-component url="http://localhost:8081/"
                :extract="extract" /> -->
          </v-card>

          <!-- </v-container> -->
        </pane>
        <pane size="45">
          <!-- <v-container> -->
          <v-subheader>
            <v-tooltip bottom
              ><template v-slot:activator="{ on, attrs }">
                <v-btn
                  class="my-btn"
                  v-bind="attrs"
                  v-on="on"
                  @click="viewInputFile(false)"
                  :disabled="!status.created"
                >
                  <i class="fas fa-sync-alt"></i>
                </v-btn>
              </template>
              <span>Reload Inputfile</span>
            </v-tooltip>

            <v-tooltip bottom
              ><template v-slot:activator="{ on, attrs }">
                <v-btn
                  class="my-btn"
                  v-bind="attrs"
                  v-on="on"
                  @click="writeInputFile"
                  :disabled="!status.created"
                >
                  <i class="fas fa-save"></i>
                </v-btn>
              </template>
              <span>Save Inputfile</span>
            </v-tooltip>

            <v-spacer></v-spacer>

            <v-tooltip bottom
              ><template v-slot:activator="{ on, attrs }">
                <v-btn
                  class="my-btn"
                  v-bind="attrs"
                  v-on="on"
                  @click="getLogFile"
                  :disabled="!status.created"
                >
                  <i class="fas fa-sync-alt"></i>
                </v-btn>
              </template>
              <span>Reload LogFile</span>
            </v-tooltip>

            <i class="fas fa-eye"></i>
            <v-switch
              v-model="monitorToggle"
              @change="monitorLogFile"
            ></v-switch>

            <!-- <v-btn-toggle v-model="monitorToggle">
                  <v-tooltip bottom><template v-slot:activator="{ on, attrs }">
                    <v-btn class="my-btn" v-bind="attrs" v-on="on" @click="monitorLogFile">
                        <i class="fas fa-eye"></i>
                    </v-btn>
                  </template>
                    <span>Monitor LogFile</span>
                  </v-tooltip>
                </v-btn-toggle> -->
          </v-subheader>
          <!-- class="overflow-y-auto" -->
          <v-card
            class="my-card"
            title="Editor"
            elevation="0"
            margin-bottom="-17px"
            :loading="textLoading"
            flex
            margin="10px"
          >
            <template slot="progress">
              <v-progress-linear
                color="deep-purple"
                height="10"
                indeterminate
              ></v-progress-linear>
            </template>
            <!-- <v-toolbar> -->
            <!-- </v-toolbar>
              <v-divider class="mx-4"></v-divider> -->
            <prism-editor
              class="my-editor"
              v-model="textOutput"
              :highlight="highlighter"
              line-numbers
            ></prism-editor>
            <!-- style="margin-left: 39px; margin-bottom: -17px; border-right-width: 33px; min-height: 2547px; padding-right: 9px; padding-bottom: 0px;" -->
            <!-- <v-textarea
                v-model="yamlOutput"
                auto-grow
              ></v-textarea> -->
          </v-card>
          <!-- </v-container> -->
        </pane>
      </splitpanes>
    </pane>
  </splitpanes>
  <!-- <v-row>
          <v-col
            class="d-flex"
            cols="12"
            sm="4">
          </v-col>
          <v-col
            class="d-flex"
            cols="12"
            sm="8">
          </v-col>
        </v-row> -->
  <v-snackbar style="white-space: pre-wrap" v-model="snackbar">
    <!-- <pre>{{message}}</pre> -->
    {{message}}

    <template v-slot:action="{ attrs }">
      <v-btn color="pink" text v-bind="attrs" @click="snackbar = false">
        Close
      </v-btn>
    </template>
  </v-snackbar>

  <v-dialog v-model="dialogError" persistent max-width="400">
    <v-card>
      <v-card-title class="text-h5"> Error </v-card-title>
      <v-card-text>{{errorMessage}}</v-card-text>
      <v-card-actions>
        <v-spacer></v-spacer>
        <v-btn color="red darken-1" text @click="dialogError = false">
          Close
        </v-btn>
      </v-card-actions>
    </v-card>
  </v-dialog>
</v-container>
